<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CppCMS: cppcms::cache_interface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CppCMS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecppcms.html">cppcms</a></li><li class="navelem"><a class="el" href="classcppcms_1_1cache__interface.html">cache_interface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classcppcms_1_1cache__interface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cppcms::cache_interface Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is the major gateway of the application to CppCMS caching abilities. Any access too cache would be done via this class.  
 <a href="classcppcms_1_1cache__interface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cache__interface_8h_source.html">cppcms/cache_interface.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cppcms::cache_interface:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcppcms_1_1cache__interface.png" usemap="#cppcms::cache_5Finterface_map" alt=""/>
  <map id="cppcms::cache_5Finterface_map" name="cppcms::cache_interface_map">
<area href="classbooster_1_1noncopyable.html" title="This class makes impossible to copy any class derived from this one. " alt="booster::noncopyable" shape="rect" coords="0,0,153,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7276736bc9302f62fcafd33377532751"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a7276736bc9302f62fcafd33377532751">cache_interface</a> (<a class="el" href="classcppcms_1_1service.html">cppcms::service</a> &amp;srv)</td></tr>
<tr class="separator:a7276736bc9302f62fcafd33377532751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b0d3640a005269e4c01d5c5be09553"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#ab8b0d3640a005269e4c01d5c5be09553">rise</a> (std::string const &amp;trigger)</td></tr>
<tr class="separator:ab8b0d3640a005269e4c01d5c5be09553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade0f913aea74b4ebe66c8216f33c2b2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#ade0f913aea74b4ebe66c8216f33c2b2a">add_trigger</a> (std::string const &amp;trigger)</td></tr>
<tr class="separator:ade0f913aea74b4ebe66c8216f33c2b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e212f0774f242d2967e66b88fb6aa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a71e212f0774f242d2967e66b88fb6aa6">clear</a> ()</td></tr>
<tr class="separator:a71e212f0774f242d2967e66b88fb6aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab609740399d76d2cadbe67b5d7c94e3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#ab609740399d76d2cadbe67b5d7c94e3c">reset</a> ()</td></tr>
<tr class="separator:ab609740399d76d2cadbe67b5d7c94e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fcde54f1aa6f1810b12b8bc88ca7ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a12fcde54f1aa6f1810b12b8bc88ca7ed">stats</a> (unsigned &amp;keys, unsigned &amp;triggers)</td></tr>
<tr class="separator:a12fcde54f1aa6f1810b12b8bc88ca7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af004bf7322d1819fa429812329f6eb8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#af004bf7322d1819fa429812329f6eb8a">has_cache</a> ()</td></tr>
<tr class="separator:af004bf7322d1819fa429812329f6eb8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27fdba45f36dd18a1f622061ca50a3e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a27fdba45f36dd18a1f622061ca50a3e1">nocache</a> ()</td></tr>
<tr class="separator:a27fdba45f36dd18a1f622061ca50a3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fc6d636f0525d500091b4279821688"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#ab3fc6d636f0525d500091b4279821688">fetch_page</a> (std::string const &amp;key)</td></tr>
<tr class="separator:ab3fc6d636f0525d500091b4279821688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f471a4daf6bd7993e591e461bfd0c99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a5f471a4daf6bd7993e591e461bfd0c99">store_page</a> (std::string const &amp;key, int timeout=-1)</td></tr>
<tr class="separator:a5f471a4daf6bd7993e591e461bfd0c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25287fde30642730132f58d6ccd77183"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a25287fde30642730132f58d6ccd77183">fetch_frame</a> (std::string const &amp;key, std::string &amp;result, bool notriggers=false)</td></tr>
<tr class="separator:a25287fde30642730132f58d6ccd77183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cdec66d555a62f64c8d014e32b11e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#ab2cdec66d555a62f64c8d014e32b11e0">store_frame</a> (std::string const &amp;key, std::string const &amp;frame, std::set&lt; std::string &gt; const &amp;triggers=std::set&lt; std::string &gt;(), int timeout=-1, bool notriggers=false)</td></tr>
<tr class="separator:ab2cdec66d555a62f64c8d014e32b11e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5102e99a4bf81c311e3e171a4a5539"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a2e5102e99a4bf81c311e3e171a4a5539">store_frame</a> (std::string const &amp;key, std::string const &amp;frame, int timeout, bool notriggers=false)</td></tr>
<tr class="separator:a2e5102e99a4bf81c311e3e171a4a5539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d127d4ee07ebbe3d18012a9c59522c"><td class="memTemplParams" colspan="2">template&lt;typename Serializable &gt; </td></tr>
<tr class="memitem:ae6d127d4ee07ebbe3d18012a9c59522c"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#ae6d127d4ee07ebbe3d18012a9c59522c">fetch_data</a> (std::string const &amp;key, Serializable &amp;data, bool notriggers=false)</td></tr>
<tr class="separator:ae6d127d4ee07ebbe3d18012a9c59522c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7ce108ecc1fbae0368d7c521188561"><td class="memTemplParams" colspan="2">template&lt;typename Serializable &gt; </td></tr>
<tr class="memitem:a1d7ce108ecc1fbae0368d7c521188561"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a1d7ce108ecc1fbae0368d7c521188561">store_data</a> (std::string const &amp;key, Serializable const &amp;data, std::set&lt; std::string &gt; const &amp;triggers=std::set&lt; std::string &gt;(), int timeout=-1, bool notriggers=false)</td></tr>
<tr class="separator:a1d7ce108ecc1fbae0368d7c521188561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b038c3933fbb0abe8c8f2dec78703e"><td class="memTemplParams" colspan="2">template&lt;typename Serializable &gt; </td></tr>
<tr class="memitem:a30b038c3933fbb0abe8c8f2dec78703e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppcms_1_1cache__interface.html#a30b038c3933fbb0abe8c8f2dec78703e">store_data</a> (std::string const &amp;key, Serializable const &amp;data, int timeout, bool notriggers=false)</td></tr>
<tr class="separator:a30b038c3933fbb0abe8c8f2dec78703e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2b9a3918416586289327d30cb43172df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b9a3918416586289327d30cb43172df"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>triggers_recorder</b></td></tr>
<tr class="separator:a2b9a3918416586289327d30cb43172df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is the major gateway of the application to CppCMS caching abilities. Any access too cache would be done via this class. </p>
<p>CppCMS cache model supports following concepts:</p>
<ul>
<li><em>key</em> the unique identification of the object in cache</li>
<li><em>timeout</em> &ndash; the maximal time the cached object remains valid</li>
<li><em>trigger</em> &ndash; special key that allows fast invalidation of multiple cache objects.</li>
</ul>
<p>The first two concepts are quite popular and available in most of Web framework, but the last one is very unique to CppCMS that gives fine grained cache invalidation tools.</p>
<p>Each time the page is created it automatically receives some triggers during the process of creation. When some object is fetched from the cache or stored into it, it adds triggers to the major page. This provides semi-automatic triggers management.</p>
<p>For example:</p>
<div class="fragment"><div class="line"> <span class="keywordflow">if</span>(cache().<a class="code" href="classcppcms_1_1cache__interface.html#ab3fc6d636f0525d500091b4279821688">fetch_page</a>(<span class="stringliteral">&quot;main_page&quot;</span>))</div><div class="line">   <span class="keywordflow">return</span>;</div><div class="line"><span class="keywordflow">if</span>(!cache().<a class="code" href="classcppcms_1_1cache__interface.html#a25287fde30642730132f58d6ccd77183">fetch_frame</a>(<span class="stringliteral">&quot;article_&quot;</span>+<span class="keywordtype">id</span>,article)) {</div><div class="line">   article=generate_article_from_data_base(<span class="keywordtype">id</span>);</div><div class="line">   cache.store_frame(<span class="stringliteral">&quot;article_&quot;</span>+<span class="keywordtype">id</span>,article);</div><div class="line"> }</div><div class="line"> <span class="comment">// Generate some HTML here using article </span></div><div class="line"> cache.store_page(<span class="stringliteral">&quot;main&quot;</span>);</div></div><!-- fragment --><p>Let's assume that "main_page" wasn't found in cache, then we try to fetch a frame that holds only a single article "article_123", if it is fetched, the result is stored in a string article and the trigger "article_123" is automatically added to set of triggers that "main_page" depends on them.</p>
<p>When the article updated, and "article_123" key is risen, it would automatically invalidate "main_page" as well.</p>
<p>CppCMS <a class="el" href="classcppcms_1_1cache__interface.html" title="This class is the major gateway of the application to CppCMS caching abilities. Any access too cache ...">cache_interface</a> allows storing arbitrary object in cache, For this purpose they should be "serializable". This can be done by specializing a class cppcms::setialization_traits </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7276736bc9302f62fcafd33377532751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppcms::cache_interface::cache_interface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppcms_1_1service.html">cppcms::service</a> &amp;&#160;</td>
          <td class="paramname"><em>srv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create interface object without a context, everything but fetch_page and store_page would work, it is not possible to handle pages without full i/o context</p>
<p><a class="el" href="v1_2.html">New in CppCMS 1.2</a> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ade0f913aea74b4ebe66c8216f33c2b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::add_trigger </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>trigger</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a trigger <em>trigger</em> to the list of dependencies of current page. </p>

</div>
</div>
<a class="anchor" id="a71e212f0774f242d2967e66b88fb6aa6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear all CppCMS cache - use carefully </p>

</div>
</div>
<a class="anchor" id="ae6d127d4ee07ebbe3d18012a9c59522c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Serializable &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cppcms::cache_interface::fetch_data </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Serializable &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notriggers</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fetch a serializeable object from the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that uniquely defines the frame. </td></tr>
    <tr><td class="paramname">data</td><td>&ndash; an object store fetched data </td></tr>
    <tr><td class="paramname">notriggers</td><td>&ndash; if true, no triggers that an object is dependent on would be added to dependencies of the current page, otherwise (false, default), the all triggers that the object is dependent on, including the <em>key</em> itself would be added as dependent triggers to current rendered page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true if the entry was found. </dd></dl>

<p>References <a class="el" href="structcppcms_1_1serialization__traits.html#ae7e5ac1fb11c1b7d16e0e36a42c1bb3d">cppcms::serialization_traits&lt; Object &gt;::load()</a>.</p>

</div>
</div>
<a class="anchor" id="a25287fde30642730132f58d6ccd77183"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cppcms::cache_interface::fetch_frame </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notriggers</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch a string (usually some HTML part) from the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that uniquely defines the frame. </td></tr>
    <tr><td class="paramname">result</td><td>&ndash; string to store fetched value </td></tr>
    <tr><td class="paramname">notriggers</td><td>&ndash; if true, no triggers that a frame is dependent on would be added to dependencies of the current page, otherwise (false, default), the all triggers that page is dependent on, including the <em>key</em> itself would be added as dependent triggers to current rendered page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns true if the entry was found. </dd></dl>

</div>
</div>
<a class="anchor" id="ab3fc6d636f0525d500091b4279821688"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cppcms::cache_interface::fetch_page </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch a page from the cache with a key <em>key</em>. If the page exists, it is written to output and true is returned. Otherwise false is returned. </p>

</div>
</div>
<a class="anchor" id="af004bf7322d1819fa429812329f6eb8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cppcms::cache_interface::has_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if caching system is enabled </p>

</div>
</div>
<a class="anchor" id="a27fdba45f36dd18a1f622061ca50a3e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cppcms::cache_interface::nocache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opposite of <em>has_cache</em> </p>

</div>
</div>
<a class="anchor" id="ab609740399d76d2cadbe67b5d7c94e3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove all triggers added to current page so far </p>

</div>
</div>
<a class="anchor" id="ab8b0d3640a005269e4c01d5c5be09553"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::rise </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>trigger</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rise a trigger <em>trigger</em>. All cached objects that depend on this trigger would be invalidated </p>

</div>
</div>
<a class="anchor" id="a12fcde54f1aa6f1810b12b8bc88ca7ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cppcms::cache_interface::stats </td>
          <td>(</td>
          <td class="paramtype">unsigned &amp;&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned &amp;&#160;</td>
          <td class="paramname"><em>triggers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get statistics about items stored in cache. May require O(n) complexity, use with care.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keys</td><td>&ndash; the number of items stored in cache </td></tr>
    <tr><td class="paramname">triggers</td><td>&ndash; the number of various triggers existing in the cache.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns false if caching system is disabled. </p>

</div>
</div>
<a class="anchor" id="a1d7ce108ecc1fbae0368d7c521188561"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Serializable &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::store_data </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Serializable const &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>triggers</em> = <code>std::set&lt;std::string&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notriggers</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store a serializeable object to the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that uniquely defines the object. </td></tr>
    <tr><td class="paramname">data</td><td>&ndash; the actual object </td></tr>
    <tr><td class="paramname">triggers</td><td>&ndash; the set of triggers that the key should depend on (<em>key</em> is added automatically) </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; maximal object lifetime, -1 is infinity </td></tr>
    <tr><td class="paramname">notriggers</td><td>&ndash; if <em>notriggers</em> is true no frame dependent triggers would be added to the current page trigger set. Otherwise (default) current page would depend on the <em>key</em> and <em>triggers</em> as its dependent triggers. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structcppcms_1_1serialization__traits.html#a2ce806b83fd214dc58f3f00fa70c0713">cppcms::serialization_traits&lt; Object &gt;::save()</a>.</p>

</div>
</div>
<a class="anchor" id="a30b038c3933fbb0abe8c8f2dec78703e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Serializable &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::store_data </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Serializable const &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notriggers</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store a serializeable object to the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that uniquely defines the object. </td></tr>
    <tr><td class="paramname">data</td><td>&ndash; the actual object </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; maximal object lifetime, -1 is infinity </td></tr>
    <tr><td class="paramname">notriggers</td><td>&ndash; if <em>notriggers</em> is true <em>key</em> added to the current page trigger set. Otherwise (default) current page would depend on the <em>key</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab2cdec66d555a62f64c8d014e32b11e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::store_frame </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>triggers</em> = <code>std::set&lt;&#160;std::string&#160;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notriggers</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store a string (usually some HTML part) to the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that uniquely defines the frame. </td></tr>
    <tr><td class="paramname">frame</td><td>&ndash; the actual value </td></tr>
    <tr><td class="paramname">triggers</td><td>&ndash; the set of triggers that the key should depend on (<em>key</em> is added automatically) </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; maximal object lifetime, -1 is infinity </td></tr>
    <tr><td class="paramname">notriggers</td><td>&ndash; if <em>notriggers</em> is true no frame dependent triggers would be added to the current page trigger set. Otherwise (default) current page would depend on the <em>key</em> and <em>triggers</em> as its dependent triggers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2e5102e99a4bf81c311e3e171a4a5539"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::store_frame </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notriggers</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store a string (usually some HTML part) to the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that uniquely defines the frame. </td></tr>
    <tr><td class="paramname">frame</td><td>&ndash; the actual value </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; maximal object lifetime, -1 is infinity </td></tr>
    <tr><td class="paramname">notriggers</td><td>&ndash; if <em>notriggers</em> is true <em>key</em> added to the current page trigger set. Otherwise (default) current page would depend on the <em>key</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5f471a4daf6bd7993e591e461bfd0c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::cache_interface::store_page </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store page with key <em>akey</em> in cache, with timeout <em>timeout</em>.</p>
<p>This function stores a page with dependencies on all triggers that were added so far.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>&ndash; the key that defines the cache. </td></tr>
    <tr><td class="paramname">timeout</td><td>&ndash; maximal valid time of the page. <em>timeout=-1</em> means infinite. Use with care.</td></tr>
  </table>
  </dd>
</dl>
<p>Note: store_page does not rise the trigger <em>key</em>, only replaces the value. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cppcms/<a class="el" href="cache__interface_8h_source.html">cache_interface.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 11 2017 23:25:57 for CppCMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
