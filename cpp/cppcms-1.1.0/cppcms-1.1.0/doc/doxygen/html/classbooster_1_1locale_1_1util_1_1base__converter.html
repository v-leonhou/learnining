<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CppCMS: booster::locale::util::base_converter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CppCMS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacebooster.html">booster</a></li><li class="navelem"><a class="el" href="namespacebooster_1_1locale.html">locale</a></li><li class="navelem"><a class="el" href="namespacebooster_1_1locale_1_1util.html">util</a></li><li class="navelem"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html">base_converter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classbooster_1_1locale_1_1util_1_1base__converter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">booster::locale::util::base_converter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represent a simple stateless converter from UCS-4 and to UCS-4 for each single code point.  
 <a href="classbooster_1_1locale_1_1util_1_1base__converter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="booster_2booster_2locale_2util_8h_source.html">booster/booster/locale/util.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4002ac4a7fc59416e54ba623b08962b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#ac4002ac4a7fc59416e54ba623b08962b">max_len</a> () const </td></tr>
<tr class="separator:ac4002ac4a7fc59416e54ba623b08962b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ec8097bd2a14e38c77804eb7200aad"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a72ec8097bd2a14e38c77804eb7200aad">is_thread_safe</a> () const </td></tr>
<tr class="separator:a72ec8097bd2a14e38c77804eb7200aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97b1e816b0af4f2b6f28b58e4c695a4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html">base_converter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#af97b1e816b0af4f2b6f28b58e4c695a4">clone</a> () const </td></tr>
<tr class="separator:af97b1e816b0af4f2b6f28b58e4c695a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7296d14ecad648c8f2383625b1f33f9"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#ae7296d14ecad648c8f2383625b1f33f9">to_unicode</a> (char const *&amp;begin, char const *end)</td></tr>
<tr class="separator:ae7296d14ecad648c8f2383625b1f33f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5cab3627d6102a2f10e3feb8f672dd"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a6f5cab3627d6102a2f10e3feb8f672dd">from_unicode</a> (uint32_t u, char *begin, char const *end)</td></tr>
<tr class="separator:a6f5cab3627d6102a2f10e3feb8f672dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a197c10ed8f3db4eeb49bc078267e8986"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a197c10ed8f3db4eeb49bc078267e8986">illegal</a> =utf::illegal</td></tr>
<tr class="separator:a197c10ed8f3db4eeb49bc078267e8986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54adb87f55ba276c81db2ddef9d42bcc"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a54adb87f55ba276c81db2ddef9d42bcc">incomplete</a> =utf::incomplete</td></tr>
<tr class="separator:a54adb87f55ba276c81db2ddef9d42bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represent a simple stateless converter from UCS-4 and to UCS-4 for each single code point. </p>
<p>This class is used for creation of std::codecvt facet for converting utf-16/utf-32 encoding to encoding supported by this converter</p>
<p>Please note, this converter should be fully stateless. Fully stateless means it should never assume that it is called in any specific order on the text. Even if the encoding itself seems to be stateless like windows-1255 or shift-jis, some encoders (most notably iconv) can actually compose several code-point into one or decompose them in case composite characters are found. So be very careful when implementing these converters for certain character set. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af97b1e816b0af4f2b6f28b58e4c695a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html">base_converter</a>* booster::locale::util::base_converter::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a polymorphic copy of this object, usually called only if <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a72ec8097bd2a14e38c77804eb7200aad">is_thread_safe()</a> return false </p>

</div>
</div>
<a class="anchor" id="a6f5cab3627d6102a2f10e3feb8f672dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint32_t booster::locale::util::base_converter::from_unicode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert a single code-point <em>u</em> into encoding and store it in [begin,end) range.</p>
<p>If u is invalid Unicode code-point, or it can not be mapped correctly to represented character set, <em>illegal</em> should be returned</p>
<p>If u can be converted to a sequence of bytes c1, ... , cN (1&lt;= N &lt;= <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#ac4002ac4a7fc59416e54ba623b08962b">max_len()</a> ) then</p>
<ol type="1">
<li>If end - begin &gt;= N, c1, ... cN are written starting at begin and N is returned</li>
<li>If end - begin &lt; N, incomplete is returned, it is unspecified what would be stored in bytes in range [begin,end) </li>
</ol>

<p>References <a class="el" href="namespacebooster_1_1locale_1_1util.html#a02d7de5c6f9a36233d44cd5744aebca8">booster::locale::util::create_codecvt()</a>, <a class="el" href="namespacebooster_1_1locale_1_1util.html#a586f96f0e1656d49549b8b0098a98154">booster::locale::util::create_simple_converter()</a>, <a class="el" href="namespacebooster_1_1locale_1_1util.html#a37392c7bf6da248c5ba8693a980cf640">booster::locale::util::create_utf8_converter()</a>, <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a197c10ed8f3db4eeb49bc078267e8986">illegal</a>, and <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a54adb87f55ba276c81db2ddef9d42bcc">incomplete</a>.</p>

</div>
</div>
<a class="anchor" id="a72ec8097bd2a14e38c77804eb7200aad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool booster::locale::util::base_converter::is_thread_safe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if calling the functions from_unicode, to_unicode, and max_len is thread safe.</p>
<p>Rule of thumb: if this class' implementation uses simple tables that are unchanged or is purely algorithmic like UTF-8 - so it does not share any mutable bit for independent to_unicode, from_unicode calls, you may set it to true, otherwise, for example if you use iconv_t descriptor or UConverter as conversion object return false, and this object will be cloned for each use. </p>

</div>
</div>
<a class="anchor" id="ac4002ac4a7fc59416e54ba623b08962b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int booster::locale::util::base_converter::max_len </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the maximal length that one Unicode code-point can be converted to, for example for UTF-8 it is 4, for Shift-JIS it is 2 and ISO-8859-1 is 1 </p>

</div>
</div>
<a class="anchor" id="ae7296d14ecad648c8f2383625b1f33f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint32_t booster::locale::util::base_converter::to_unicode </td>
          <td>(</td>
          <td class="paramtype">char const *&amp;&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert a single character starting at begin and ending at most at end to Unicode code-point.</p>
<p>if valid input sequence found in [<em>begin</em>,<em>code_point_end</em>) such as <em>begin</em> &lt; <em>code_point_end</em> &amp;&amp; <em>code_point_end</em> &lt;= <em>end</em> it is converted to its Unicode code point equivalent, <em>begin</em> is set to <em>code_point_end</em> </p>
<p>if incomplete input sequence found in [<em>begin</em>,<em>end</em>), i.e. there my be such <em>code_point_end</em> that <em>code_point_end</em> &gt; <em>end</em> and [<em>begin</em>, <em>code_point_end</em>) would be valid input sequence, then <em>incomplete</em> is returned begin stays unchanged, for example for UTF-8 conversion a *begin = 0xc2, <em>begin</em> +1 = <em>end</em> is such situation.</p>
<p>if invalid input sequence found, i.e. there there is a sequence [<em>begin</em>, <em>code_point_end</em>) such as <em>code_point_end</em> &lt;= <em>end</em> that is illegal for this encoding, <em>illegal</em> is returned and begin stays unchanged. For example if *begin = 0xFF and begin &lt; end for UTF-8, then <em>illegal</em> is returned. </p>

<p>References <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a197c10ed8f3db4eeb49bc078267e8986">illegal</a>, and <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a54adb87f55ba276c81db2ddef9d42bcc">incomplete</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a197c10ed8f3db4eeb49bc078267e8986"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t booster::locale::util::base_converter::illegal =utf::illegal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This value should be returned when an illegal input sequence or code-point is observed: For example if a UCS-32 code-point is in the range reserved for UTF-16 surrogates or an invalid UTF-8 sequence is found </p>

<p>Referenced by <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a6f5cab3627d6102a2f10e3feb8f672dd">from_unicode()</a>, and <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#ae7296d14ecad648c8f2383625b1f33f9">to_unicode()</a>.</p>

</div>
</div>
<a class="anchor" id="a54adb87f55ba276c81db2ddef9d42bcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t booster::locale::util::base_converter::incomplete =utf::incomplete</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This value is returned in following cases: The of incomplete input sequence was found or insufficient output buffer was provided so complete output could not be written. </p>

<p>Referenced by <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#a6f5cab3627d6102a2f10e3feb8f672dd">from_unicode()</a>, and <a class="el" href="classbooster_1_1locale_1_1util_1_1base__converter.html#ae7296d14ecad648c8f2383625b1f33f9">to_unicode()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>booster/locale/<a class="el" href="booster_2booster_2locale_2util_8h_source.html">util.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 11 2017 23:25:57 for CppCMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
